@import "tailwindcss";
@import "@nui/core/theme";

/* Base theme-aware styling */
html,
body,
#root {
  background-color: var(--color-background);
  color: var(--color-foreground);
}

/* Prevent FOUC - allow essential animations but block color transitions */
* {
  transition-property: transform, opacity, translate, scale, rotate !important;
}

/* Code blocks */
pre {
  @apply bg-muted p-4 text-xs/5.5 overflow-x-auto max-h-[350px] mb-6 rounded-boxes;
}

/* Syntax highlighting */
code[data-theme*=" "],
code[data-theme*=" "] span {
  color: var(--shiki-light);
  background-color: var(--shiki-light-bg);
}

/* Dark mode syntax highlighting */
.dark code[data-theme*=" "],
.dark code[data-theme*=" "] span {
  color: var(--shiki-dark);
  background-color: var(--shiki-dark-bg);
}

/* Hide code block title */
[data-rehype-pretty-code-title] {
  @apply hidden;
}

/* Line numbers */
[data-line-numbers] {
  counter-reset: line;
}

[data-line-numbers] > [data-line]::before {
  @apply inline-block w-4 mr-4 text-muted-foreground text-right select-none;
  content: counter(line);
  counter-increment: line;
}

/* Highlighting */
[data-highlighted-line] {
  @apply !bg-primary/5 border-l-2 border-primary;
}

[data-highlighted-chars] {
  @apply bg-primary/10 rounded px-1;
}
